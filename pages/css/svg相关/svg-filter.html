<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style text="text/css">
      @import url('./style.css');
    </style>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>
  </head>
  <body>
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="svg-filters">
      <defs>
        <filter id="filter">
          <feTurbulence type="fractalNoise" baseFrequency="0.00001 0.00001" numOctaves="1" result="warp"></feTurbulence>
          <feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="30" in="SourceGraphic" in2="warpOffset" />
        </filter>
      </defs>
    </svg>

    <a href="#" class="button">Click me</a>

    <script>
      var bt = document.querySelectorAll('.button')[0]
      var turbVal = { val: 0.000001 }
      var turb = document.querySelectorAll('#filter feTurbulence')[0]
      var btTl = new TimelineLite({
        paused: true,
        onUpdate: function() {
          turb.setAttribute('baseFrequency', '0 ' + turbVal.val)
        }
      })

      btTl.to(turbVal, 0.2, { val: 0.3 })
      btTl.to(turbVal, 0.2, { val: 0.000001 })

      bt.addEventListener('click', function() {
        btTl.restart()
      })
    </script>
  </body>
</html>
